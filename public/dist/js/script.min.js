$(document).ready(function(){$("#dashboard").length>0,$(".date").datetimepicker({icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down"},format:"DD/MM/YYYY",defaultDate:$(this).val()}),$(".time").datetimepicker({icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down"},format:"HH:mm",defaultDate:$(this).val()}),$(".rte").summernote({height:300,toolbar:[["style",["bold","italic","underline","clear"]],["para",["ul","ol","paragraph"]]]}),$(".users_group").change(function(){var a=$(this).val();$.getJSON("/ajax/restarters_in_group",{group:a},function(a){var b="";a.forEach(function(a){b+='<div class="checkbox"><label for="users-'+a.id+'"><input type="checkbox" checked name="users[]" id="users-'+a.id+'" value="'+a.id+'"> '+a.name+" ("+a.role+")</label></div>"}),$(".users_group_list").html(b)})}),$('[name="repair_status"]').click(function(){$(this).is(":checked")&&"repair_status_2"==$(this).attr("id")?$("#repairable-details").slideDown("slow"):$("#repairable-details").hide("fast")}),$(".repairable").click(function(){var a=$(this).data("target-details");$(this).is(":checked")&&$(a).slideDown("slow")}),$(".delete-control").click(function(a){a.preventDefault();var b=$(this).attr("href"),c='<div class="ctrl-box-wrap"><div class="ctrl-box"><div class="ctrl-box-hdr"><h3>Are You Sure?<h3></div><div class="ctrl-box-body"><p>Please note that this operation is <strong>irreversible</strong>.</p></div><div class="ctrl-box-foot"><a href="'+b+'" class="btn btn-danger"><i class="fa fa-trash"></i> Delete</a> &nbsp;<a href="#" class="btn btn-default ctrl-box-close"><i class="fa fa-undo"></i> Cancel</a></div></div></div>';return $(".ctrl-box-wrap").length>0&&$(".ctrl-box-wrap").remove(),$("body").append(c),$(".ctrl-box-close").click(function(){$(".ctrl-box-wrap").remove()}),!1}),$(".switch-view").click(function(a){a.preventDefault();var b=$(this).data("target");$(".switch-view").removeClass("active"),$(this).addClass("active"),$(".bargroup").removeClass("show").addClass("hide"),$(b).addClass("show")}),$("#add-device").click(function(a){a.preventDefault();var b=$("#device-table > tbody > tr").length,c=null,d=null,e=b+1;console.log("ROWS : "+b),$.ajax({async:!1,url:"/ajax/category_list",data:{},dataType:"html",success:function(a){c=a}}),$.ajax({async:!1,url:"/ajax/restarters",data:{},dataType:"html",success:function(a){d=a}});var f="<tr><td>"+e+'.</td><td><div class="form-group"><select id="device-'+e+'[category]" name="device-'+e+'[category]" class="selectpicker form-control" data-live-search="true">'+c+'</select></div></td><td><textarea class="form-control" id="device-'+e+'[problem]" name="device-'+e+'[problem]"></textarea></td><td><textarea class="form-control" id="device-'+e+'[model]" name="device-'+e+'[model]"></textarea></td><td><div class="form-group"><div class="radio"><label><input type="radio" name="device-'+e+'[repair_status]" id="device-'+e+'[repair_status_1]" value="1" checked> Fixed</label></div><div class="radio"><label><input type="radio" class="repairable" data-target-details="#repairable-details-'+e+'" name="device-'+e+'[repair_status]" id="device-'+e+'[repair_status_2]" value="2"> Repairable</label></div><div id="repairable-details-'+e+'" class="repairable-details"><div class="checkbox"><label><input type="checkbox" name="device-'+e+'[more_time_needed]" id="device-'+e+'[more_time_needed]" value="1"> More time needed</label></div><div class="checkbox"><label><input type="checkbox" name="device-'+e+'[professional_help]" id="device-'+e+'[professional_help]" value="1"> Professional help</label></div><div class="checkbox"><label><input type="checkbox" name="device-'+e+'[do_it_yourself]" id="device-'+e+'[do_it_yourself]" value="1"> Do it yourself</label></div></div><div class="radio"><label><input type="radio" name="device-'+e+'[repair_status]" id="device-'+e+'[repair_status_3]" value="3"> End of lifecycle</label></div></div></td><td><div class="form-group"><div class="radio"><label><input type="radio" name="device-'+e+'[spare_parts]" id="spare_parts_1" value="1"> Yes</label></div><div class="radio"><label><input type="radio" name="device-'+e+'[spare_parts]" id="spare_parts_2" value="2" checked> No</label></div></div></td><td><div class="form-group"><select name="device-'+e+'[restarter]" id="device-'+e+'[restarter]"  class="selectpicker form-control" data-live-search="true" title="Choose Restarter..."><option></option>'+d+"</select></div></td></tr>";$("#device-table tbody").append(f),$(".selectpicker").selectpicker(),console.log(c)})});